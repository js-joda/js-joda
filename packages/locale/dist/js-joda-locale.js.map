{"version":3,"sources":["webpack://JSJodaLocale/webpack/universalModuleDefinition","webpack://JSJodaLocale/webpack/bootstrap","webpack://JSJodaLocale/./src/Locale.js","webpack://JSJodaLocale/./src/_init.js","webpack://JSJodaLocale/./src/format/LocaleDateTimeFormatter.js","webpack://JSJodaLocale/./src/format/LocaleStore.js","webpack://JSJodaLocale/./src/format/cldr/CldrCache.js","webpack://JSJodaLocale/./src/format/cldr/CldrDateTimeFormatterBuilder.js","webpack://JSJodaLocale/./src/format/cldr/CldrDateTimeTextProvider.js","webpack://JSJodaLocale/./src/format/cldr/CldrZoneTextPrinterParser.js","webpack://JSJodaLocale/./src/format/parser/LocalizedOffsetPrinterParser.js","webpack://JSJodaLocale/./src/format/parser/TextPrinterParser.js","webpack://JSJodaLocale/./src/format/parser/WeekFieldsPrinterParser.js","webpack://JSJodaLocale/./src/js-joda-locale.js","webpack://JSJodaLocale/./src/plug.js","webpack://JSJodaLocale/./src/temporal/WeekFields.js","webpack://JSJodaLocale/external {\"amd\":\"@js-joda/core\",\"commonjs\":\"@js-joda/core\",\"commonjs2\":\"@js-joda/core\",\"root\":\"JSJoda\"}","webpack://JSJodaLocale/external {\"amd\":\"cldr-data\",\"commonjs\":\"cldr-data\",\"commonjs2\":\"cldr-data\",\"root\":\"cldrData\"}","webpack://JSJodaLocale/external {\"amd\":\"cldrjs\",\"commonjs\":\"cldrjs\",\"commonjs2\":\"cldrjs\",\"root\":\"Cldr\"}"],"names":["Locale","language","country","localeString","_language","_country","_localeString","length","other","CldrDateTimeTextProvider","getAvailableLocales","_init","ENGLISH","US","UK","CANADA","FRENCH","FRANCE","GERMAN","GERMANY","KOREAN","JAPANESE","JAPAN","isInit","init","localeInit","weekFieldsInit","requireNonNull","jodaInternal","assert","LocaleDateTimeFormatter","locale","equals","_locale","DateTimeFormatter","_printerParser","_decimalStyle","_resolverStyle","_resolverFields","_chrono","_zone","createEntry","text","field","key","value","toString","_comparator","obj1","obj2","LocaleStore","valueTextMap","_valueTextMap","map","allList","Object","keys","forEach","style","reverse","list","undefined","parseInt","push","sort","concat","_parsable","Symbol","iterator","cldrDataLoaded","Set","loadCldrData","path","has","Cldr","load","cldrData","add","localeToCldrInstanceCache","getOrCreateCldrInstance","localeToMapZonesCache","getOrCreateMapZones","cldr","mapZones","get","metaZone","mapZone","_other","_territory","_type","requireInstance","CldrDateTimeFormatterBuilder","styleOrMap","appendTextField","TextStyle","appendTextFieldStyle","appendTextFieldMap","FULL","textStyle","TemporalField","_appendInternal","TextPrinterParser","textLookup","ChronoField","copy","assign","store","provider","getText","getTextIterator","count","WeekFieldsPrinterParser","CldrZoneTextPrinterParser","SHORT","IllegalArgumentException","LocalizedOffsetPrinterParser","DateTimeFormatterBuilder","_cache","JS_JODA_LOCALE_AVAILABLE_LOCALES","availableLocales","_findStore","_createStore","MONTH_OF_YEAR","monthsData","main","styleMap","data","wide","narrow","NARROW","abbreviated","_createLocaleStore","DAY_OF_WEEK","daysData","mon","tue","wed","thu","fri","sat","sun","AMPM_OF_DAY","dayPeriodsData","am","pm","ERA","erasData","eraNames","eraNarrow","eraAbbr","IsoFields","QUARTER_OF_YEAR","quartersData","FULL_STANDALONE","SHORT_STANDALONE","indexOf","NARROW_STANDALONE","LENGTH_COMPARATOR","str1","str2","cmp","localeCompare","resolveZoneIdTextCache","_textStyle","_zoneIdsLocales","zoneId","type","zoneIdToStyle","styleToType","typeToResolvedZoneIdText","_resolveZoneIdText","zoneData","metazoneInfo","metazone","metaZoneData","preferredZone","attributes","territory","_cachedResolveZoneIdText","goldenZone","context","buf","zone","getValueQuery","TemporalQueries","normalized","ZoneOffset","append","id","daylight","hasDaylightSupport","tzType","tzstyle","asNormal","localString","ids","ZoneRulesProvider","getAvailableZoneIds","genericText","standardText","daylightText","sortedKeys","position","name","subSequenceEquals","setParsedZone","ZoneId","of","_resolveZoneIds","MathUtil","offsetSecs","getValue","OFFSET_SECONDS","OffsetIdPrinterParser","print","totalSecs","safeToInt","absHours","Math","abs","intMod","intDiv","absMinutes","absSeconds","parse","end","setParsedField","sign","charAt","negative","ch","hour","offset","min","sec","_field","_provider","_numberPrinterParser","parseText","isStrict","it","entry","itText","_currentNumberPrinterParser","NumberPrinterParser","SignStyle","NORMAL","StringBuilder","letter","_letter","_count","weekFields","WeekFields","pp","_evaluate","dayOfWeek","NOT_NEGATIVE","weekOfWeekBasedYear","weekOfMonth","ReducedPrinterParser","weekBasedYear","BASE_DATE","EXCEEDS_PAD","sb","use","plug","jsJoda","getOwnPropertyNames","prototype","prop","DAY_OF_WEEK_RANGE","ValueRange","WEEK_OF_MONTH_RANGE","WEEK_OF_YEAR_RANGE","WEEK_OF_WEEK_BASED_YEAR_RANGE","WEEK_BASED_YEAR_RANGE","YEAR","range","_weekDayMap","DayOfWeek","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY","ComputedDayOfField","weekDef","baseUnit","rangeUnit","_name","_weekDef","_baseUnit","_rangeUnit","_range","temporal","sow","firstDayOfWeek","dow","_localizedDayOfWeek","ChronoUnit","WEEKS","MONTHS","_localizedWeekOfMonth","YEARS","_localizedWeekOfYear","WEEK_BASED_YEARS","_localizedWOWBY","FOREVER","_localizedWBY","IllegalStateException","isoDow","floorMod","dom","DAY_OF_MONTH","_startOfWeekOffset","_computeWeek","doy","DAY_OF_YEAR","woy","previous","LocalDate","from","minus","year","yearLen","Year","isLeap","weekIndexOfFirstWeekNextYear","minimalDaysInFirstWeek","day","weekStart","newValue","newVal","checkValidIntValue","currentVal","baseWowby","diffWeeks","roundDown","result","plus","newWowby","delta","fieldValues","partialTemporal","resolverStyle","remove","localDow","put","containsKey","wby","date","days","ResolverStyle","LENIENT","wowby","dateDow","weeks","DAYS","STRICT","getLong","DateTimeException","month","wom","isSupported","EPOCH_DAY","_rangeWOWBY","fieldRange","minimum","maximum","IsoChronology","INSTANCE","WeekFieldsCache","Map","_firstDayOfWeek","_minimalDays","_dayOfWeek","ofDayOfWeekField","_weekOfMonth","ofWeekOfMonthField","_weekOfYear","ofWeekOfYearField","_weekOfWeekBasedYear","ofWeekOfWeekBasedYearField","_weekBasedYear","ofWeekBasedYearField","hashCode","ordinal","firstDayOrLocale","minDays","ofLocale","ofFirstDayOfWeekMinDays","worldRegion","weekData","firstDay","rules","set","ISO","SUNDAY_START"],"mappings":"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","file":"js-joda-locale.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@js-joda/core\"), require(\"cldr-data\"), require(\"cldrjs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@js-joda/core\", \"cldr-data\", \"cldrjs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"JSJodaLocale\"] = factory(require(\"@js-joda/core\"), require(\"cldr-data\"), require(\"cldrjs\"));\n\telse\n\t\troot[\"JSJodaLocale\"] = factory(root[\"JSJoda\"], root[\"cldrData\"], root[\"Cldr\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__js_joda_core__, __WEBPACK_EXTERNAL_MODULE_cldr_data__, __WEBPACK_EXTERNAL_MODULE_cldrjs__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js-joda-locale.js\");\n","/*\n * @copyright (c) 2017, Philipp Thuerwaechter & Pattrick Hueper\n * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)\n */\n\nimport CldrDateTimeTextProvider from './format/cldr/CldrDateTimeTextProvider';\n\nexport default class Locale {\n    static getAvailableLocales() {\n        return new CldrDateTimeTextProvider().getAvailableLocales();\n    }\n\n    // TODO: maybe use new Cldr(<'en'>) constructor instead?\n    // see https://github.com/rxaviers/cldrjs#instantiate-a-locale-and-get-it-normalized\n    constructor(language, country = '', localeString = '') {\n        this._language = language;\n        this._country = country;\n        this._localeString = localeString;\n    }\n\n    language() {\n        return this._language;\n    }\n\n    country() {\n        return this._country;\n    }\n\n    localeString() {\n        if (this._localeString.length > 0) {\n            return this._localeString;\n        }\n        if (this._country.length > 0) {\n            return `${this._language}-${this._country}`;\n        } else {\n            return this._language;\n        }\n    }\n\n    toString() {\n        return `Locale[${this.localeString()}]`;\n    }\n\n    equals(other) {\n        if (!other) {\n            return false;\n        }\n        if (!(other instanceof Locale)) {\n            return false;\n        }\n        return this.localeString() === other.localeString();\n    }\n}\n\nexport function _init() {\n    //some samples/consts\n    Locale.ENGLISH = new Locale('en');\n    Locale.US = new Locale('en', 'US', 'en'); // default in cldr-data, no en-US\n    Locale.UK = new Locale('en', 'GB');\n    Locale.CANADA = new Locale('en', 'CA');\n    Locale.FRENCH = new Locale('fr');\n    Locale.FRANCE = new Locale('fr', 'FR', 'fr'); // default in cldr-data, no fr-FR\n    Locale.GERMAN = new Locale('de');\n    Locale.GERMANY = new Locale('de', 'DE', 'de'); // default in cldr-data, no de-DE\n    Locale.KOREAN = new Locale('ko');\n    Locale.JAPANESE = new Locale('ja', 'JP');\n    Locale.JAPAN = new Locale('ja', 'JP', 'ja');\n}\n","/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\n\nimport { _init as localeInit } from './Locale';\nimport { _init as weekFieldsInit } from './temporal/WeekFields';\n\nlet isInit = false;\n\nfunction init() {\n    /* istanbul ignore if */\n    if (isInit) {\n        return;\n    }\n\n    isInit = true;\n\n    localeInit();\n    weekFieldsInit();\n}\n\ninit();\n","/*\n * @copyright (c) 2017, Philipp Thuerwaechter & Pattrick Hueper\n * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)\n */\n\nimport { _ as jodaInternal, DateTimeFormatter } from '@js-joda/core';\n// eslint-disable-next-line no-unused-vars\nimport Locale from '../Locale';\n\nconst { assert: { requireNonNull } } = jodaInternal;\n\nexport default class LocaleDateTimeFormatter extends DateTimeFormatter {\n\n    /**\n     * Returns a copy of this formatter with a new locale.\n     * <p>\n     * This is used to lookup any part of the formatter needing specific\n     * localization, such as the text or localized pattern.\n     * <p>\n     * This instance is immutable and unaffected by this method call.\n     *\n     * @param {!Locale} locale  the new locale, not null\n     * @return a formatter based on this formatter with the requested locale, not null\n     */\n    withLocale(locale) {\n        requireNonNull(locale, 'locale');\n        if (locale.equals(this._locale)) {\n            return this;\n        }\n        return new DateTimeFormatter(this._printerParser, locale, this._decimalStyle, this._resolverStyle, this._resolverFields, this._chrono, this._zone);\n    }\n\n\n}\n","/*\n * @copyright (c) 2017, Philipp Thuerwaechter & Pattrick Hueper\n * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)\n */\n\n\n/**\n * @private\n *\n * Helper method to create an immutable entry.\n *\n * @param text  the text, not null\n * @param field  the field, not null\n * @return the entry, not null\n */\nexport const createEntry = (text, field) => {\n    return {\n        key: text,\n        value: field,\n        toString: function () {\n            return `${text}->${field}`;\n        }\n    };\n};\n\nconst _comparator = (obj1, obj2) => {\n    return obj2.key.length - obj1.key.length;  // longest to shortest\n};\n\n/**\n * Stores the text for a single locale.\n * <p>\n * Some fields have a textual representation, such as day-of-week or month-of-year.\n * These textual representations can be captured in this class for printing\n * and parsing.\n */\nexport class LocaleStore {\n    //-----------------------------------------------------------------------\n    /**\n     * Constructor.\n     *\n     * @param {Object} valueTextMap  the map of values to text to store, assigned and not altered, not null\n     */\n    constructor(valueTextMap) {\n        this._valueTextMap = valueTextMap;\n        const map = {};\n        let allList = [];\n        Object.keys(valueTextMap).forEach((style) => {\n            const reverse = {};\n            const list = [];\n            Object.keys(valueTextMap[style]).forEach((key) => {\n                const value = valueTextMap[style][key];\n                if (reverse[value] === undefined) {\n                    reverse[value] = createEntry(value, parseInt(key));\n                    list.push(reverse[value]);\n                }\n            });\n            list.sort(_comparator);\n            map[style] = list;\n            allList = allList.concat(list);\n            map[null] = allList;\n        });\n        allList.sort(_comparator);\n        this._parsable = map;\n    }\n\n    //-----------------------------------------------------------------------\n    /**\n     * Gets the text for the specified field value, locale and style\n     * for the purpose of printing.\n     *\n     * @param {Number} value  the value to get text for, not null\n     * @param {TextStyle} style  the style to get text for, not null\n     * @return the text for the field value, null if no text found\n     */\n    getText(value, style) {\n        const map = this._valueTextMap[style];\n        return map != null ? map[value] : null;\n    }\n\n    /**\n     * Gets an iterator of text to field for the specified style for the purpose of parsing.\n     * <p>\n     * The iterator must be returned in order from the longest text to the shortest.\n     *\n     * @param style  the style to get text for, null for all parsable text\n     * @return the iterator of text to field pairs, in order from longest text to shortest text,\n     *  null if the style is not parsable\n     */\n    getTextIterator(style) {\n        const list = this._parsable[style];\n        return list != null ? list[Symbol.iterator]() : null;\n    }\n}\n","/*\n* @copyright (c) 2020, Philipp Thuerwaechter & Pattrick Hueper\n* @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)\n*/\n\nimport cldrData from 'cldr-data';\nimport Cldr from 'cldrjs';\n\nconst cldrDataLoaded = new Set();\n/**\n * @private\n *\n* Loads the Cldr data for the given path if it hasn't been loaded before.\n*/\nexport const loadCldrData = (path) => {\n    if (!cldrDataLoaded.has(path)) {\n        Cldr.load(cldrData(path));\n        cldrDataLoaded.add(path);\n    }\n};\n\nconst localeToCldrInstanceCache = {};\n/**\n * @private\n *\n* Returns a Cldr instance for the given locale.\n* Memoized, so a given locale will always return the exact same cldr instance.\n*/\nexport const getOrCreateCldrInstance = (locale) => {\n    if (localeToCldrInstanceCache[locale] == null) {\n        localeToCldrInstanceCache[locale] = new Cldr(locale);\n    }\n\n    return localeToCldrInstanceCache[locale];\n};\n\nconst localeToMapZonesCache = {};\n/**\n * @private\n *\n* Returns a map zones object for a Cldr instance.\n* Memoized, so for any given Cldr instance locale, the same object will be returned.\n*/\nexport const getOrCreateMapZones = (cldr) => {\n    if (localeToMapZonesCache[cldr.locale] == null) {\n        const mapZones = {};\n\n        cldr.get('supplemental/metaZones/metazones').forEach((metaZone) => {\n            if (metaZone.mapZone) {\n                if (!mapZones[metaZone.mapZone._other]) {\n                    mapZones[metaZone.mapZone._other] = {};\n                }\n                mapZones[metaZone.mapZone._other][metaZone.mapZone._territory] = metaZone.mapZone._type;\n            }\n        });\n\n        localeToMapZonesCache[cldr.locale] = mapZones;\n    }\n\n    return localeToMapZonesCache[cldr.locale];\n};\n","/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\n\nimport {\n    _ as jodaInternal,\n    DateTimeFormatterBuilder,\n    IllegalArgumentException,\n    TextStyle,\n    ChronoField,\n    TemporalField\n} from '@js-joda/core';\n\nimport TextPrinterParser from '../parser/TextPrinterParser';\nimport CldrDateTimeTextProvider from './CldrDateTimeTextProvider';\nimport CldrZoneTextPrinterParser from './CldrZoneTextPrinterParser';\nimport { LocaleStore } from '../LocaleStore';\nimport LocalizedOffsetPrinterParser from '../parser/LocalizedOffsetPrinterParser';\nimport WeekFieldsPrinterParser from '../parser/WeekFieldsPrinterParser';\n\nconst { assert: { requireNonNull, requireInstance } } = jodaInternal;\n\n/** DateTimeFormatterBuilder extension functions implementing locale handling using cldr data (http://cldr.unicode.org/)\n */\nexport default class CldrDateTimeFormatterBuilder extends DateTimeFormatterBuilder {\n\n    //-------------------------------------------------------------------------\n    /**\n     * function overloading for {@link CldrDateTimeFormatterBuilder#appendText}\n     *\n     * if called with 1 arguments and first argument is an instance of ChronoField,\n     * then {@link CldrDateTimeFormatterBuilder.appendTextField} is executed.\n     * if called with 2 arguments and second argument is an instance of TextStyle,\n     * then {@link CldrDateTimeFormatterBuilder.appendTextFieldStyle} is executed.\n     *\n     * Otherwise {@link CldrDateTimeFormatterBuilder.appendTextFieldMap} is executed.\n     *\n     * @param {!ChronoField} field\n     * @param {!(TextStyle|Object)} styleOrMap\n     * @returns {DateTimeFormatterBuilder} this for chaining\n     */\n    appendText(field, styleOrMap) {\n        if (styleOrMap === undefined) {\n            return this.appendTextField(field);\n        } else if (styleOrMap instanceof TextStyle) {\n            return this.appendTextFieldStyle(field, styleOrMap);\n        } else {\n            return this.appendTextFieldMap(field, styleOrMap);\n        }\n    }\n\n    /**\n     * Appends the text of a date-time field to the formatter using the full\n     * text style.\n     * <p>\n     * The text of the field will be output during a print.\n     * The value must be within the valid range of the field.\n     * If the value cannot be obtained then an exception will be thrown.\n     * If the field has no textual representation, then the numeric value will be used.\n     * <p>\n     * The value will be printed as per the normal print of an integer value.\n     * Only negative numbers will be signed. No padding will be added.\n     *\n     * @param {!TemporalField} field  the field to append, not null\n     * @return {DateTimeFormatterBuilder} this, for chaining, not null\n     */\n    appendTextField(field) {\n        return this.appendTextFieldStyle(field, TextStyle.FULL);\n    }\n\n    /**\n     * Appends the text of a date-time field to the formatter.\n     * <p>\n     * The text of the field will be output during a print.\n     * The value must be within the valid range of the field.\n     * If the value cannot be obtained then an exception will be thrown.\n     * If the field has no textual representation, then the numeric value will be used.\n     * <p>\n     * The value will be printed as per the normal print of an integer value.\n     * Only negative numbers will be signed. No padding will be added.\n     *\n     * @param {!TemporalField} field  the field to append, not null\n     * @param {!TextStyle} textStyle  the text style to use, not null\n     * @return {DateTimeFormatterBuilder} this, for chaining, not null\n     */\n    appendTextFieldStyle(field, textStyle) {\n        requireNonNull(field, 'field');\n        requireInstance(field, TemporalField, 'field');\n        requireNonNull(textStyle, 'textStyle');\n        requireInstance(textStyle, TextStyle, 'textStyle');\n        this._appendInternal(new TextPrinterParser(field, textStyle, new CldrDateTimeTextProvider()));\n        return this;\n    }\n\n    /**\n     * Appends the text of a date-time field to the formatter using the specified\n     * map to supply the text.\n     * <p>\n     * The standard text outputting methods use the localized text in the JDK.\n     * This method allows that text to be specified directly.\n     * The supplied map is not validated by the builder to ensure that printing or\n     * parsing is possible, thus an invalid map may throw an error during later use.\n     * <p>\n     * Supplying the map of text provides considerable flexibility in printing and parsing.\n     * For example, a legacy application might require or supply the months of the\n     * year as \"JNY\", \"FBY\", \"MCH\" etc. These do not match the standard set of text\n     * for localized month names. Using this method, a map can be created which\n     * defines the connection between each value and the text:\n     * <pre>\n     * Map&lt;Long, String&gt; map = new HashMap&lt;&gt;();\n     * map.put(1, \"JNY\");\n     * map.put(2, \"FBY\");\n     * map.put(3, \"MCH\");\n     * ...\n     * builder.appendText(MONTH_OF_YEAR, map);\n     * </pre>\n     * <p>\n     * Other uses might be to output the value with a suffix, such as \"1st\", \"2nd\", \"3rd\",\n     * or as Roman numerals \"I\", \"II\", \"III\", \"IV\".\n     * <p>\n     * During printing, the value is obtained and checked that it is in the valid range.\n     * If text is not available for the value then it is output as a number.\n     * During parsing, the parser will match against the map of text and numeric values.\n     *\n     * @param {!ChronoField} field  the field to append, not null\n     * @param {!Object} textLookup  the map from the value to the text\n     * @return {DateTimeFormatterBuilder} this, for chaining, not null\n     */\n    appendTextFieldMap(field, textLookup) {\n        requireNonNull(field, 'field');\n        requireInstance(field, ChronoField, 'field');\n        requireNonNull(textLookup, 'textLookup');\n        const copy = Object.assign({}, textLookup);\n        const map = {};\n        map[TextStyle.FULL] = copy;\n        const store = new LocaleStore(map);\n        const provider = {\n            getText: function(field, value, style) {\n                return store.getText(value, style);\n            },\n            getTextIterator: function(field, style) {\n                return store.getTextIterator(style);\n            }\n        };\n        this._appendInternal(new TextPrinterParser(field, TextStyle.FULL, provider));\n        return this;\n    }\n\n    appendWeekField(field, count) {\n        requireNonNull(field, 'field');\n        requireNonNull(count, 'count');\n        this._appendInternal(new WeekFieldsPrinterParser(field, count));\n        return this;\n    }\n\n    /**\n     * Appends the time-zone name, such as 'British Summer Time', to the formatter.\n     * <p>\n     * This appends an instruction to print the textual name of the zone to the builder.\n     * <p>\n     * During printing, the zone is obtained using a mechanism equivalent\n     * to querying the temporal with {@link TemporalQueries#zoneId()}.\n     * If the zone is a {@code ZoneOffset} it will be printed using the\n     * result of {@link ZoneOffset#getId()}.\n     * If the zone is not an offset, the textual name will be looked up\n     * for the locale set in the {@link DateTimeFormatter}.\n     * If the temporal object being printed represents an instant, then the text\n     * will be the summer or winter time text as appropriate.\n     * If the lookup for text does not find any suitable reuslt, then the\n     * {@link ZoneId#getId() ID} will be printed instead.\n     * If the zone cannot be obtained then an exception is thrown unless the\n     * section of the formatter is optional.\n     * <p>\n     * Parsing is not currently supported.\n     *\n     * @param {!TextStyle} textStyle  the text style to use, not null\n     * @return this, for chaining, not null\n     */\n    appendZoneText(textStyle) {\n        this._appendInternal(new CldrZoneTextPrinterParser(textStyle));\n        return this;\n    }\n\n    /**\n     * Appends the localized zone offset, such as 'GMT+01:00', to the formatter.\n     * <p>\n     * This appends a localized zone offset to the builder, the format of the\n     * localized offset is controlled by the specified {@link FormatStyle style}\n     * to this method:\n     * <ul>\n     * <li>{@link TextStyle#FULL full} - formats with localized offset text, such\n     * as 'GMT, 2-digit hour and minute field, optional second field if non-zero,\n     * and colon.\n     * <li>{@link TextStyle#SHORT short} - formats with localized offset text,\n     * such as 'GMT, hour without leading zero, optional 2-digit minute and\n     * second if non-zero, and colon.\n     * </ul>\n     * <p>\n     * During formatting, the offset is obtained using a mechanism equivalent\n     * to querying the temporal with {@link TemporalQueries#offset()}.\n     * If the offset cannot be obtained then an exception is thrown unless the\n     * section of the formatter is optional.\n     * <p>\n     * During parsing, the offset is parsed using the format defined above.\n     * If the offset cannot be parsed then an exception is thrown unless the\n     * section of the formatter is optional.\n     * <p>\n     * @param {TextStyle} textStyle  the format style to use, not null\n     * @return this, for chaining, not null\n     * @throws IllegalArgumentException if style is neither {@link TextStyle#FULL\n     * full} nor {@link TextStyle#SHORT short}\n     */\n    appendLocalizedOffset(textStyle) {\n        requireNonNull(textStyle, 'textStyle');\n        if (textStyle !== TextStyle.FULL && textStyle !== TextStyle.SHORT) {\n            throw new IllegalArgumentException('Style must be either full or short');\n        }\n        this._appendInternal(new LocalizedOffsetPrinterParser(textStyle));\n        return this;\n    }\n\n    //-----------------------------------------------------------------------\n\n}\n","/*\n * @copyright (c) 2017, Philipp Thuerwaechter & Pattrick Hueper\n * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)\n */\n\nimport { ChronoField, IsoFields, TextStyle } from '@js-joda/core';\n\nimport cldrData from 'cldr-data';\n\nimport { LocaleStore, createEntry } from '../LocaleStore';\nimport { getOrCreateCldrInstance, loadCldrData } from './CldrCache';\n\n/**\n * The Service Provider Implementation to obtain date-time text for a field.\n * <p>\n * This implementation is based on data from cldr.\n *\n * @private\n */\nexport default class CldrDateTimeTextProvider {\n\n    constructor() {\n        this._cache = {};\n        loadCldrData('supplemental/likelySubtags.json');\n    }\n\n    //-----------------------------------------------------------------------\n    getAvailableLocales() {\n        /* eslint-disable no-undef */\n        // JS_JODA_LOCALE_AVAILABLE_LOCALS may be defined using webpack DefinePlugin\n        if (typeof(JS_JODA_LOCALE_AVAILABLE_LOCALES) !== 'undefined') {\n            return JS_JODA_LOCALE_AVAILABLE_LOCALES;\n        }\n        /* eslint-enable no-undef */\n        return cldrData('availableLocales.json').availableLocales;\n    }\n\n    //-----------------------------------------------------------------------\n    getText(field, value, style, locale) {\n        const store = this._findStore(field, locale);\n        if (store instanceof LocaleStore) {\n            return store.getText(value, style);\n        }\n        return null;\n    }\n\n    getTextIterator(field, style, locale) {\n        const store = this._findStore(field, locale);\n        if (store instanceof LocaleStore) {\n            return store.getTextIterator(style);\n        }\n        return null;\n    }\n\n    //-----------------------------------------------------------------------\n    _findStore(field, locale) {\n        const key = createEntry(field, locale);\n        let store = this._cache[key];\n        if (store === undefined) {\n            store = this._createStore(field, locale);\n            this._cache[key] = store;\n        }\n        return store;\n    }\n\n    _createStore(field, locale) {\n        loadCldrData(`main/${locale.localeString()}/ca-gregorian.json`);\n        const cldr = getOrCreateCldrInstance(locale.localeString());\n        if (field === ChronoField.MONTH_OF_YEAR) {\n            const monthsData = cldr.main('dates/calendars/gregorian/months/format');\n            const styleMap = {};\n            let data = {};\n            data[1] = monthsData.wide[1];\n            data[2] = monthsData.wide[2];\n            data[3] = monthsData.wide[3];\n            data[4] = monthsData.wide[4];\n            data[5] = monthsData.wide[5];\n            data[6] = monthsData.wide[6];\n            data[7] = monthsData.wide[7];\n            data[8] = monthsData.wide[8];\n            data[9] = monthsData.wide[9];\n            data[10] = monthsData.wide[10];\n            data[11] = monthsData.wide[11];\n            data[12] = monthsData.wide[12];\n            styleMap[TextStyle.FULL] = data;\n\n            data = {};\n            data[1] = monthsData.narrow[1];\n            data[2] = monthsData.narrow[2];\n            data[3] = monthsData.narrow[3];\n            data[4] = monthsData.narrow[4];\n            data[5] = monthsData.narrow[5];\n            data[6] = monthsData.narrow[6];\n            data[7] = monthsData.narrow[7];\n            data[8] = monthsData.narrow[8];\n            data[9] = monthsData.narrow[9];\n            data[10] = monthsData.narrow[10];\n            data[11] = monthsData.narrow[11];\n            data[12] = monthsData.narrow[12];\n            styleMap[TextStyle.NARROW] = data;\n\n            data = {};\n            data[1] = monthsData.abbreviated[1];\n            data[2] = monthsData.abbreviated[2];\n            data[3] = monthsData.abbreviated[3];\n            data[4] = monthsData.abbreviated[4];\n            data[5] = monthsData.abbreviated[5];\n            data[6] = monthsData.abbreviated[6];\n            data[7] = monthsData.abbreviated[7];\n            data[8] = monthsData.abbreviated[8];\n            data[9] = monthsData.abbreviated[9];\n            data[10] = monthsData.abbreviated[10];\n            data[11] = monthsData.abbreviated[11];\n            data[12] = monthsData.abbreviated[12];\n            styleMap[TextStyle.SHORT] = data;\n            return this._createLocaleStore(styleMap);\n        }\n        if (field === ChronoField.DAY_OF_WEEK) {\n            const daysData = cldr.main('dates/calendars/gregorian/days/format');\n            const styleMap = {};\n            let data = {};\n            data[1] = daysData.wide.mon;\n            data[2] = daysData.wide.tue;\n            data[3] = daysData.wide.wed;\n            data[4] = daysData.wide.thu;\n            data[5] = daysData.wide.fri;\n            data[6] = daysData.wide.sat;\n            data[7] = daysData.wide.sun;\n            styleMap[TextStyle.FULL] = data;\n\n            data = {};\n            data[1] = daysData.narrow.mon;\n            data[2] = daysData.narrow.tue;\n            data[3] = daysData.narrow.wed;\n            data[4] = daysData.narrow.thu;\n            data[5] = daysData.narrow.fri;\n            data[6] = daysData.narrow.sat;\n            data[7] = daysData.narrow.sun;\n            styleMap[TextStyle.NARROW] = data;\n\n            data = {};\n            data[1] = daysData.abbreviated.mon;\n            data[2] = daysData.abbreviated.tue;\n            data[3] = daysData.abbreviated.wed;\n            data[4] = daysData.abbreviated.thu;\n            data[5] = daysData.abbreviated.fri;\n            data[6] = daysData.abbreviated.sat;\n            data[7] = daysData.abbreviated.sun;\n            styleMap[TextStyle.SHORT] = data;\n            return this._createLocaleStore(styleMap);\n        }\n        if (field === ChronoField.AMPM_OF_DAY) {\n            const dayPeriodsData = cldr.main('dates/calendars/gregorian/dayPeriods/format');\n            const styleMap = {};\n            let data = {};\n            data[0] = dayPeriodsData.wide.am;\n            data[1] = dayPeriodsData.wide.pm;\n            styleMap[TextStyle.FULL] = data;\n\n            data = {};\n            data[0] = dayPeriodsData.narrow.am;\n            data[1] = dayPeriodsData.narrow.pm;\n            styleMap[TextStyle.NARROW] = data;\n\n            data = {};\n            data[0] = dayPeriodsData.abbreviated.am;\n            data[1] = dayPeriodsData.abbreviated.pm;\n            styleMap[TextStyle.SHORT] = data;\n\n            return this._createLocaleStore(styleMap);\n        }\n        if (field === ChronoField.ERA) {\n            const erasData = cldr.main('dates/calendars/gregorian/eras');\n            const styleMap = {};\n            let data = {};\n            data[0] = erasData.eraNames['0'];\n            data[1] = erasData.eraNames['1'];\n            styleMap[TextStyle.FULL] = data;\n\n            data = {};\n            data[0] = erasData.eraNarrow['0'];\n            data[1] = erasData.eraNarrow['1'];\n            styleMap[TextStyle.NARROW] = data;\n\n            data = {};\n            data[0] = erasData.eraAbbr['0'];\n            data[1] = erasData.eraAbbr['1'];\n            styleMap[TextStyle.SHORT] = data;\n\n            return this._createLocaleStore(styleMap);\n        }\n        if (field === IsoFields.QUARTER_OF_YEAR) {\n            const quartersData = cldr.main('dates/calendars/gregorian/quarters/format');\n            const styleMap = {};\n            let data = {};\n            data[1] = quartersData.wide['1'];\n            data[2] = quartersData.wide['2'];\n            data[3] = quartersData.wide['3'];\n            data[4] = quartersData.wide['4'];\n            styleMap[TextStyle.FULL] = data;\n\n            data = {};\n            data[1] = quartersData.narrow['1'];\n            data[2] = quartersData.narrow['2'];\n            data[3] = quartersData.narrow['3'];\n            data[4] = quartersData.narrow['4'];\n            styleMap[TextStyle.NARROW] = data;\n\n            data = {};\n            data[1] = quartersData.abbreviated['1'];\n            data[2] = quartersData.abbreviated['2'];\n            data[3] = quartersData.abbreviated['3'];\n            data[4] = quartersData.abbreviated['4'];\n            styleMap[TextStyle.SHORT] = data;\n\n            return this._createLocaleStore(styleMap);\n        }\n        return null;  // null marker for map\n    }\n\n    //-----------------------------------------------------------------------\n    _createLocaleStore(valueTextMap) {\n        valueTextMap[TextStyle.FULL_STANDALONE] = valueTextMap[TextStyle.FULL];\n        valueTextMap[TextStyle.SHORT_STANDALONE] = valueTextMap[TextStyle.SHORT];\n        /* istanbul ignore if */ // this doesn't seem to happen?\n        if (Object.keys(valueTextMap).indexOf(TextStyle.NARROW) > -1\n                && Object.keys(valueTextMap).indexOf(TextStyle.NARROW_STANDALONE) === -1) {\n            valueTextMap[TextStyle.NARROW_STANDALONE] = valueTextMap[TextStyle.NARROW];\n        }\n        return new LocaleStore(valueTextMap);\n    }\n}\n","/*\n * @copyright (c) 2017, Philipp Thuerwaechter & Pattrick Hueper\n * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)\n */\n\nimport {\n    _ as jodaInternal,\n    TextStyle,\n    TemporalQueries,\n    ZoneId,\n    ZoneOffset,\n    ZoneRulesProvider,\n} from '@js-joda/core';\n\nimport { getOrCreateCldrInstance, getOrCreateMapZones, loadCldrData } from './CldrCache';\n\nconst { assert: { requireNonNull, requireInstance } } = jodaInternal;\n\n//-----------------------------------------------------------------------\nconst LENGTH_COMPARATOR = (str1, str2) => {\n    let cmp = str2.length - str1.length;\n    if (cmp === 0) {\n        cmp = str1.localeCompare(str2);\n    }\n    return cmp;\n};\n\n/**\n * Cache for `_cachedResolveZoneIdText`.\n *\n * Its basic structure is:\n * Obj { locale: zoneId }\n * Obj { zoneId: style}\n * Obj { style: type}\n * Obj { type: resolvedZoneIdText}\n */\nconst resolveZoneIdTextCache = {};\n\n/**\n * Prints or parses a zone ID.\n */\nexport default class CldrZoneTextPrinterParser {\n    /** The text style to output. */\n\n    constructor(textStyle) {\n        requireNonNull(textStyle, 'textStyle');\n        requireInstance(textStyle, TextStyle, 'textStyle');\n        this._textStyle = textStyle;\n        this._zoneIdsLocales = {};\n        loadCldrData('supplemental/likelySubtags.json');\n        loadCldrData('supplemental/metaZones.json');\n    }\n\n    _cachedResolveZoneIdText(cldr, zoneId, style, type) {\n        if (resolveZoneIdTextCache[cldr.locale] == null) {\n            resolveZoneIdTextCache[cldr.locale] = {};\n        }\n\n        const zoneIdToStyle = resolveZoneIdTextCache[cldr.locale];\n        if (zoneIdToStyle[zoneId] == null) {\n            zoneIdToStyle[zoneId] = {};\n        }\n\n        const styleToType = zoneIdToStyle[zoneId];\n        if (styleToType[style] == null) {\n            styleToType[style] = {};\n        }\n\n        const typeToResolvedZoneIdText = styleToType[style];\n        if (typeToResolvedZoneIdText[type] == null) {\n            typeToResolvedZoneIdText[type] = this._resolveZoneIdText(cldr, zoneId, style, type);\n        }\n\n        return typeToResolvedZoneIdText[type];\n    }\n\n    _resolveZoneIdText(cldr, zoneId, style, type) {\n        const zoneData = cldr.main(`dates/timeZoneNames/zone/${zoneId}/${style}/${type}`);\n        if (zoneData) {\n            return zoneData;\n        } else {\n            const metazoneInfo = cldr.get(`supplemental/metaZones/metazoneInfo/timezone/${zoneId}`);\n            if (metazoneInfo) {\n                // const zoneData = cldr.main(`dates/timeZoneNames/metazone/Acre`);\n                // TODO: determine metaZone for current temporal, for now, we use the last one :/\n                const metazone = metazoneInfo[metazoneInfo.length - 1]['usesMetazone']['_mzone'];\n                let metaZoneData = cldr.main(`dates/timeZoneNames/metazone/${metazone}/${style}/${type}`);\n                if (metaZoneData) {\n                    return metaZoneData;\n                } else {\n                    // type fallback, first generic, then standard\n                    metaZoneData = cldr.main(`dates/timeZoneNames/metazone/${metazone}/${style}/generic`);\n                    if (!metaZoneData) {\n                        metaZoneData = cldr.main(`dates/timeZoneNames/metazone/${metazone}/${style}/standard`);\n                    }\n                    if (metaZoneData) {\n                        return metaZoneData;\n                    } else {\n                        const mapZones = getOrCreateMapZones(cldr);\n                        // find preferred Zone and resolve again\n                        const preferredZone = mapZones[metazone][cldr.attributes.territory];\n                        if (preferredZone) {\n                            if (preferredZone !== zoneId) {\n                                return this._cachedResolveZoneIdText(cldr, preferredZone, style, type);\n                            }\n                        } else {\n                            // find golden Zone and resolve again\n                            const goldenZone = mapZones[metazone]['001'];\n                            if (goldenZone !== zoneId) {\n                                return this._cachedResolveZoneIdText(cldr, goldenZone, style, type);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    //-----------------------------------------------------------------------\n    print(context, buf) {\n\n        //see http://www.unicode.org/reports/tr35/tr35-dates.html#Time_Zone_Names\n\n        const zone = context.getValueQuery(TemporalQueries.zoneId());\n        /* istanbul ignore if */ // shouldn't happen... getValueQuery throws before returning null\n        if (zone == null) {\n            return false;\n        }\n        if (zone.normalized() instanceof ZoneOffset) {\n            buf.append(zone.id());\n            return true;\n        }\n        const daylight = false;\n        const hasDaylightSupport = false;\n        /* TODO: currently js-joda-timezone does not support ZoneRules.isDaylightSavings() ... uncomment if it does\n         const temporal = context.temporal();\n         if (temporal.isSupported(ChronoField.INSTANT_SECONDS)) {\n            hasDaylightSupport = true;\n            const instant = Instant.ofEpochSecond(temporal.getLong(ChronoField.INSTANT_SECONDS));\n            daylight = zone.rules().isDaylightSavings(instant);\n        }*/\n        const tzType = hasDaylightSupport ? (daylight ? 'daylight' : 'standard') : 'generic';\n        const tzstyle = (this._textStyle.asNormal() === TextStyle.FULL ? 'long' : 'short');\n        loadCldrData(`main/${context.locale().localeString()}/timeZoneNames.json`);\n        const cldr = getOrCreateCldrInstance(context.locale().localeString());\n\n        const text = this._cachedResolveZoneIdText(cldr, zone.id(), tzstyle, tzType);\n        if (text) {\n            buf.append(text);\n        } else {\n            // fallback, print zoneId\n            buf.append(zone.id());\n        }\n        return true;\n    }\n\n    _resolveZoneIds(localString) {\n        if(this._zoneIdsLocales[localString] != null) {\n            return this._zoneIdsLocales[localString];\n        }\n        const ids = {};\n        loadCldrData(`main/${localString}/timeZoneNames.json`);\n        const cldr = getOrCreateCldrInstance(localString);\n\n        for (const id of ZoneRulesProvider.getAvailableZoneIds()) {\n            ids[id] = id;\n            const tzstyle = (this._textStyle.asNormal() === TextStyle.FULL ? 'long' : 'short');\n\n            const genericText = this._cachedResolveZoneIdText(cldr, id, tzstyle, 'generic');\n            if (genericText) {\n                ids[genericText] = id;\n            }\n            const standardText = this._cachedResolveZoneIdText(cldr, id, tzstyle, 'standard');\n            if (standardText) {\n                ids[standardText] = id;\n            }\n            const daylightText = this._cachedResolveZoneIdText(cldr, id, tzstyle, 'daylight');\n            if (daylightText) {\n                ids[daylightText] = id;\n            }\n        }\n        // threeten is using a (sorted) TreeMap... so we need to sort the keys\n        const sortedKeys = Object.keys(ids).sort(LENGTH_COMPARATOR);\n\n        this._zoneIdsLocales[localString] = { ids, sortedKeys };\n        return this._zoneIdsLocales[localString];\n    }\n\n    // That's a very poor implementation, there are missing bug fixes and functionality from threeten and jdk\n    parse(context, text, position) {\n        for (const name of ['UTC', 'GMT']) {\n            if (context.subSequenceEquals(text, position, name, 0, name.length)) {\n                context.setParsedZone(ZoneId.of(name));\n                return position + name.length;\n            }\n        }\n        const { ids, sortedKeys } = this._resolveZoneIds(context.locale().localeString());\n        for (const name of sortedKeys) {\n            if (context.subSequenceEquals(text, position, name, 0, name.length)) {\n                context.setParsedZone(ZoneId.of(ids[name]));\n                return position + name.length;\n            }\n        }\n        return ~position;\n    }\n\n    toString() {\n        return `ZoneText(${this._textStyle})`;\n    }\n}\n","/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\n\nimport {\n    _ as jodaInternal,\n    DateTimeFormatterBuilder,\n    ChronoField,\n    TextStyle\n} from '@js-joda/core';\n\nconst { MathUtil } = jodaInternal;\n//-----------------------------------------------------------------------\n/**\n * Prints or parses field text.\n * @private\n */\nexport default class LocalizedOffsetPrinterParser {\n    /**\n     * Constructor.\n     *\n     * @param {!TextStyle} textStyle  the text style, not null\n     */\n    constructor(textStyle) {\n        this._textStyle = textStyle;\n    }\n\n    textStyle() {\n        return this._textStyle;\n    }\n\n    print(context, buf) {\n        const offsetSecs = context.getValue(ChronoField.OFFSET_SECONDS);\n        /* istanbul ignore if */ // shouldn't happen... getValue throws for unsupported fields?\n        if (offsetSecs == null) {\n            return false;\n        }\n        buf.append('GMT');\n        if (this._textStyle === TextStyle.FULL) {\n            return new DateTimeFormatterBuilder.OffsetIdPrinterParser('', '+HH:MM:ss').print(context, buf);\n        }\n        const totalSecs = MathUtil.safeToInt(offsetSecs);\n        if (totalSecs !== 0) {\n            const absHours = Math.abs(MathUtil.intMod(MathUtil.intDiv(totalSecs, 3600), 100));  // anything larger than 99 silently dropped\n            const absMinutes = Math.abs(MathUtil.intMod(MathUtil.intDiv(totalSecs,60), 60));\n            const absSeconds = Math.abs(MathUtil.intMod(totalSecs, 60));\n            buf.append(totalSecs < 0 ? '-' : '+').append(absHours);\n            if (absMinutes > 0 || absSeconds > 0) {\n                buf.append(':')\n                    .append(MathUtil.intDiv(absMinutes, 10)).append(MathUtil.intMod(absMinutes,10));\n                if (absSeconds > 0) {\n                    buf.append(':')\n                        .append(MathUtil.intDiv(absSeconds, 10)).append(MathUtil.intMod(absSeconds, 10));\n                }\n            }\n        }\n        return true;\n    }\n\n    parse(context, text, position) {\n        if (context.subSequenceEquals(text, position, 'GMT', 0, 3) === false) {\n            return ~position;\n        }\n        position += 3;\n        if (this._textStyle === TextStyle.FULL) {\n            return new DateTimeFormatterBuilder.OffsetIdPrinterParser('', '+HH:MM:ss').parse(context, text, position);\n        }\n        const end = text.length;\n        if (position === end) {\n            return context.setParsedField(ChronoField.OFFSET_SECONDS, 0, position, position);\n        }\n        const sign = text.charAt(position);\n        if (sign !== '+' && sign !== '-') {\n            return context.setParsedField(ChronoField.OFFSET_SECONDS, 0, position, position);\n        }\n        const negative = (sign === '-' ? -1 : 1);\n        /* istanbul ignore if */ // cannot happen, already checked before\n        if (position === end) {\n            return ~position;\n        }\n        position++;\n        // hour\n        let ch = text.charAt(position);\n        if (ch < '0' || ch > '9') {\n            return ~position;\n        }\n        position++;\n        let hour = MathUtil.parseInt(ch);\n        if (position !== end) {\n            ch = text.charAt(position);\n            if (ch >= '0' && ch <= '9') {\n                hour = hour * 10 + MathUtil.parseInt(ch);\n                if (hour > 23) {\n                    return ~position;\n                }\n                position++;\n            }\n        }\n        if (position === end || text.charAt(position) !== ':') {\n            const offset = negative * 3600 * hour;\n            return context.setParsedField(ChronoField.OFFSET_SECONDS, offset, position, position);\n        }\n        position++;\n        // minute\n        if (position > end - 2) {\n            return ~position;\n        }\n        ch = text.charAt(position);\n        if (ch < '0' || ch > '9') {\n            return ~position;\n        }\n        position++;\n        let min = MathUtil.parseInt(ch);\n        ch = text.charAt(position);\n        if (ch < '0' || ch > '9') {\n            return ~position;\n        }\n        position++;\n        min = min * 10 + MathUtil.parseInt(ch);\n        if (min > 59) {\n            return ~position;\n        }\n        if (position === end || text.charAt(position) !== ':') {\n            const offset = negative * (3600 * hour + 60 * min);\n            return context.setParsedField(ChronoField.OFFSET_SECONDS, offset, position, position);\n        }\n        position++;\n        // second\n        if (position > end - 2) {\n            return ~position;\n        }\n        ch = text.charAt(position);\n        if (ch < '0' || ch > '9') {\n            return ~position;\n        }\n        position++;\n        let sec = MathUtil.parseInt(ch);\n        ch = text.charAt(position);\n        if (ch < '0' || ch > '9') {\n            return ~position;\n        }\n        position++;\n        sec = sec * 10 + MathUtil.parseInt(ch);\n        if (sec > 59) {\n            return ~position;\n        }\n        const offset = negative * (3600 * hour + 60 * min + sec);\n        return context.setParsedField(ChronoField.OFFSET_SECONDS, offset, position, position);\n    }\n\n    toString() {\n        return `LocalizedOffset(${this._textStyle})`;\n    }\n\n}\n\n//-----------------------------------------------------------------------\n","/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\n\nimport { DateTimeFormatterBuilder, IllegalArgumentException, SignStyle, TextStyle } from '@js-joda/core';\n\n//-----------------------------------------------------------------------\n/**\n * Prints or parses field text.\n * @private\n */\nexport default class TextPrinterParser {\n    /**\n     * Constructor.\n     *\n     * @param {!TemporalField} field  the field to output, not null\n     * @param {!TextStyle} textStyle  the text style, not null\n     * @param {!DateTimeProvider} provider  the text provider, not null\n     */\n    constructor(field, textStyle, provider) {\n        // validated by caller\n        this._field = field;\n        this._textStyle = textStyle;\n        this._provider = provider;\n    }\n\n    field() {\n        return this._field;\n    }\n\n    textStyle() {\n        return this._textStyle;\n    }\n\n    provider() {\n        return this._provider;\n    }\n\n    print(context, buf) {\n        const value = context.getValue(this._field);\n        if (value === null) {\n            return false;\n        }\n        const text = this._provider.getText(this._field, value, this._textStyle, context.locale());\n        if (text === null) {\n            return this._numberPrinterParser().print(context, buf);\n        }\n        buf.append(text);\n        return true;\n    }\n\n    parse(context, parseText, position) {\n        const length = parseText.length;\n        if (position < 0 || position > length) {\n            throw new IllegalArgumentException(`The position is invalid: ${position}`);\n        }\n        const style = (context.isStrict() ? this._textStyle : null);\n        const it = this._provider.getTextIterator(this._field, style, context.locale());\n        if (it != null) {\n            for (const entry of it) {\n                const itText = entry.key;\n                if (context.subSequenceEquals(itText, 0, parseText, position, itText.length)) {\n                    return context.setParsedField(this._field, entry.value, position, position + itText.length);\n                }\n            }\n            if (context.isStrict()) {\n                return ~position;\n            }\n        }\n        return this._numberPrinterParser().parse(context, parseText, position);\n    }\n\n    /**\n     * Create and cache a number printer parser.\n     * @return the number printer parser for this field, not null\n     */\n    _numberPrinterParser() {\n        if (this._currentNumberPrinterParser == null) {\n            this._currentNumberPrinterParser = new DateTimeFormatterBuilder.NumberPrinterParser(this._field, 1, 19, SignStyle.NORMAL);\n        }\n        return this._currentNumberPrinterParser;\n    }\n\n    toString() {\n        if (this._textStyle === TextStyle.FULL) {\n            return `Text(${this._field})`;\n        }\n        return `Text(${this._field},${this._textStyle})`;\n    }\n}\n\n//-----------------------------------------------------------------------\n","/*\n * @copyright (c) 2017, Philipp Thuerwaechter & Pattrick Hueper\n * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)\n */\n\nimport { _ as jodaInternal, DateTimeFormatterBuilder, SignStyle } from '@js-joda/core';\n\nimport { WeekFields } from '../../temporal/WeekFields';\n\nconst { StringBuilder } = jodaInternal;\n\nexport default class WeekFieldsPrinterParser {\n    constructor(letter, count) {\n        this._letter = letter;\n        this._count = count;\n    }\n\n    print(context, buf) {\n        const weekFields = WeekFields.of(context.locale());\n        const pp = this._evaluate(weekFields);\n        return pp.print(context, buf);\n    }\n\n    parse(context, text, position) {\n        const weekFields = WeekFields.of(context.locale());\n        const pp = this._evaluate(weekFields);\n        return pp.parse(context, text, position);\n    }\n\n    _evaluate(weekFields) {\n        let pp = null;\n        switch (this._letter) {\n            case 'e':  // day-of-week\n                pp = new DateTimeFormatterBuilder.NumberPrinterParser(weekFields.dayOfWeek(), this._count, 2, SignStyle.NOT_NEGATIVE);\n                break;\n            case 'c':  // day-of-week\n                pp = new DateTimeFormatterBuilder.NumberPrinterParser(weekFields.dayOfWeek(), this._count, 2, SignStyle.NOT_NEGATIVE);\n                break;\n            case 'w':  // week-of-year\n                pp = new DateTimeFormatterBuilder.NumberPrinterParser(weekFields.weekOfWeekBasedYear(), this._count, 2, SignStyle.NOT_NEGATIVE);\n                break;\n            case 'W':  // week-of-month\n                pp = new DateTimeFormatterBuilder.NumberPrinterParser(weekFields.weekOfMonth(), 1, 2, SignStyle.NOT_NEGATIVE);\n                break;\n            case 'Y':  // weekyear\n                if (this._count === 2) {\n                    pp = new DateTimeFormatterBuilder.ReducedPrinterParser(weekFields.weekBasedYear(), 2, 2, 0, DateTimeFormatterBuilder.ReducedPrinterParser.BASE_DATE);\n                } else {\n                    pp = new DateTimeFormatterBuilder.NumberPrinterParser(weekFields.weekBasedYear(), this._count, 19,\n                        (this._count < 4) ? SignStyle.NORMAL : SignStyle.EXCEEDS_PAD, -1);\n                }\n                break;\n        }\n        return pp;\n    }\n\n    toString() {\n        const sb = new StringBuilder(30);\n        sb.append('Localized(');\n        if (this._letter === 'Y') {\n            if (this._count === 1) {\n                sb.append('WeekBasedYear');\n            } else if (this._count === 2) {\n                sb.append('ReducedValue(WeekBasedYear,2,2,2000-01-01)');\n            } else {\n                sb.append('WeekBasedYear,').append(this._count).append(',')\n                    .append(19).append(',')\n                    .append((this._count < 4) ? SignStyle.NORMAL : SignStyle.EXCEEDS_PAD);\n            }\n        } else {\n            if (this._letter === 'c' || this._letter === 'e') {\n                sb.append('DayOfWeek');\n            } else if (this._letter === 'w') {\n                sb.append('WeekOfWeekBasedYear');\n            } else if (this._letter === 'W') {\n                sb.append('WeekOfMonth');\n            }\n            sb.append(',');\n            sb.append(this._count);\n        }\n        sb.append(')');\n        return sb.toString();\n    }\n}\n","/*\n * @copyright (c) 2017, Philipp Thuerwaechter & Pattrick Hueper\n * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)\n */\nimport { use } from '@js-joda/core';\nimport plug from './plug';\nimport Locale from './Locale';\n\nuse(plug);\n\nexport {\n    Locale\n};\n","/*\n * @copyright (c) 2017, Philipp Thuerwaechter & Pattrick Hueper\n * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)\n */\n\n/* eslint-disable no-param-reassign */\n\nimport CldrDateTimeFormatterBuilder from './format/cldr/CldrDateTimeFormatterBuilder';\nimport LocaleDateTimeFormatter from './format/LocaleDateTimeFormatter';\n\nimport './_init';\n\n/**\n * @private\n *\n * plugin Function, call using js-jodas use()\n *\n * @param jsJoda\n */\nexport default function (jsJoda) {\n    // inject all prototype properties (except constructor) from CldrDateTimeFormatterBuilder into DateTimeFormatterBuilder\n    Object.getOwnPropertyNames(CldrDateTimeFormatterBuilder.prototype).forEach((prop) => {\n        if (prop !== 'constructor') {\n            jsJoda.DateTimeFormatterBuilder.prototype[prop] = CldrDateTimeFormatterBuilder.prototype[prop];\n        }\n    });\n    // inject all prototype properties (except constructor) from LocaleDateTimeFormatter into DateTimeFormatter\n    Object.getOwnPropertyNames(LocaleDateTimeFormatter.prototype).forEach((prop) => {\n        if (prop !== 'constructor') {\n            jsJoda.DateTimeFormatter.prototype[prop] = LocaleDateTimeFormatter.prototype[prop];\n        }\n    });\n}\n","/*\n * @copyright (c) 2017, Philipp Thuerwaechter & Pattrick Hueper\n * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)\n */\n\nimport {\n    _ as jodaInternal,\n    DateTimeException,\n    DayOfWeek,\n    ChronoField,\n    ChronoUnit,\n    IllegalArgumentException,\n    IllegalStateException,\n    IsoChronology,\n    IsoFields,\n    LocalDate,\n    ResolverStyle,\n    ValueRange,\n    Year\n} from '@js-joda/core';\nimport cldrData from 'cldr-data';\nimport Cldr from 'cldrjs';\n\nconst { MathUtil, assert: { requireNonNull, requireInstance } } = jodaInternal;\n\n//-----------------------------------------------------------------------\nconst DAY_OF_WEEK_RANGE = ValueRange.of(1, 7);\nconst WEEK_OF_MONTH_RANGE = ValueRange.of(0, 1, 4, 6);\nconst WEEK_OF_YEAR_RANGE = ValueRange.of(0, 1, 52, 54);\nconst WEEK_OF_WEEK_BASED_YEAR_RANGE = ValueRange.of(1, 52, 53);\nconst WEEK_BASED_YEAR_RANGE = ChronoField.YEAR.range();\n\n/* map from the string from cldr `firstDay()` to DayOfWeek */\nconst _weekDayMap = {\n    'mon': DayOfWeek.MONDAY,\n    'tue': DayOfWeek.TUESDAY,\n    'wed': DayOfWeek.WEDNESDAY,\n    'thu': DayOfWeek.THURSDAY,\n    'fri': DayOfWeek.FRIDAY,\n    'sat': DayOfWeek.SATURDAY,\n    'sun': DayOfWeek.SUNDAY,\n};\n\n/**\n * Field type that computes DayOfWeek, WeekOfMonth, and WeekOfYear\n * based on a WeekFields.\n * A separate Field instance is required for each different WeekFields;\n * combination of start of week and minimum number of days.\n * Constructors are provided to create fields for DayOfWeek, WeekOfMonth,\n * and WeekOfYear.\n */\nexport class ComputedDayOfField {\n\n    /**\n     * Returns a field to access the day of week,\n     * computed based on a WeekFields.\n     * <p>\n     * The WeekDefintion of the first day of the week is used with\n     * the ISO DAY_OF_WEEK field to compute week boundaries.\n     */\n    static ofDayOfWeekField(weekDef) {\n        return new ComputedDayOfField('DayOfWeek', weekDef,\n            ChronoUnit.DAYS, ChronoUnit.WEEKS, DAY_OF_WEEK_RANGE);\n    }\n\n    /**\n     * Returns a field to access the week of month,\n     * computed based on a WeekFields.\n     * @see WeekFields#weekOfMonth()\n     */\n    static ofWeekOfMonthField(weekDef) {\n        return new ComputedDayOfField('WeekOfMonth', weekDef,\n            ChronoUnit.WEEKS, ChronoUnit.MONTHS, WEEK_OF_MONTH_RANGE);\n    }\n\n    /**\n     * Returns a field to access the week of year,\n     * computed based on a WeekFields.\n     * @see WeekFields#weekOfYear()\n     */\n    static ofWeekOfYearField(weekDef) {\n        return new ComputedDayOfField('WeekOfYear', weekDef,\n            ChronoUnit.WEEKS, ChronoUnit.YEARS, WEEK_OF_YEAR_RANGE);\n    }\n\n    /**\n     * Returns a field to access the week of week-based-year,\n     * computed based on a WeekFields.\n     * @see WeekFields#weekOfWeekBasedYear()\n     */\n    static ofWeekOfWeekBasedYearField(weekDef) {\n        return new ComputedDayOfField('WeekOfWeekBasedYear', weekDef,\n            ChronoUnit.WEEKS, IsoFields.WEEK_BASED_YEARS, WEEK_OF_WEEK_BASED_YEAR_RANGE);\n    }\n\n    /**\n     * Returns a field to access the week-based-year,\n     * computed based on a WeekFields.\n     * @see WeekFields#weekBasedYear()\n     */\n    static ofWeekBasedYearField(weekDef) {\n        return new ComputedDayOfField('WeekBasedYear', weekDef,\n            IsoFields.WEEK_BASED_YEARS, ChronoUnit.FOREVER, WEEK_BASED_YEAR_RANGE);\n    }\n\n    /**\n     *@private\n     */\n    constructor(name, weekDef, baseUnit, rangeUnit, range) {\n        this._name = name;\n        this._weekDef = weekDef;\n        this._baseUnit = baseUnit;\n        this._rangeUnit = rangeUnit;\n        this._range = range;\n    }\n\n    getFrom(temporal) {\n        // Offset the ISO DOW by the start of this week\n        const sow = this._weekDef.firstDayOfWeek().value();\n        const dow = this._localizedDayOfWeek(temporal, sow);\n\n        if (this._rangeUnit === ChronoUnit.WEEKS) {\n            return dow;\n        } else if (this._rangeUnit === ChronoUnit.MONTHS) {\n            return this._localizedWeekOfMonth(temporal, dow);\n        } else if (this._rangeUnit === ChronoUnit.YEARS) {\n            return this._localizedWeekOfYear(temporal, dow);\n        } else if (this._rangeUnit === IsoFields.WEEK_BASED_YEARS) {\n            return this._localizedWOWBY(temporal);\n        } else if (this._rangeUnit === ChronoUnit.FOREVER) {\n            return this._localizedWBY(temporal);\n        } else {\n            throw new IllegalStateException('unreachable');\n        }\n    }\n\n    _localizedDayOfWeek(temporal, sow) {\n        const isoDow = temporal.get(ChronoField.DAY_OF_WEEK);\n        return MathUtil.floorMod(isoDow - sow, 7) + 1;\n    }\n\n    _localizedWeekOfMonth(temporal, dow) {\n        const dom = temporal.get(ChronoField.DAY_OF_MONTH);\n        const offset = this._startOfWeekOffset(dom, dow);\n        return ComputedDayOfField._computeWeek(offset, dom);\n    }\n\n    _localizedWeekOfYear(temporal, dow) {\n        const doy = temporal.get(ChronoField.DAY_OF_YEAR);\n        const offset = this._startOfWeekOffset(doy, dow);\n        return ComputedDayOfField._computeWeek(offset, doy);\n    }\n\n    _localizedWOWBY(temporal) {\n        const sow = this._weekDef.firstDayOfWeek().value();\n        const isoDow = temporal.get(ChronoField.DAY_OF_WEEK);\n        const dow = MathUtil.floorMod(isoDow - sow, 7) + 1;\n        const woy = this._localizedWeekOfYear(temporal, dow);\n        if (woy === 0) {\n            const previous = LocalDate.from(temporal).minus(1, ChronoUnit.WEEKS);\n            return this._localizedWeekOfYear(previous, dow) + 1;\n        } else if (woy >= 53) {\n            const offset = this._startOfWeekOffset(temporal.get(ChronoField.DAY_OF_YEAR), dow);\n            const year = temporal.get(ChronoField.YEAR);\n            const yearLen = Year.isLeap(year) ? 366 : 365;\n            const weekIndexOfFirstWeekNextYear = ComputedDayOfField._computeWeek(offset, yearLen + this._weekDef.minimalDaysInFirstWeek());\n            if (woy >= weekIndexOfFirstWeekNextYear) {\n                return (woy - (weekIndexOfFirstWeekNextYear - 1));\n            }\n        }\n        return woy;\n    }\n\n    _localizedWBY(temporal) {\n        const sow = this._weekDef.firstDayOfWeek().value();\n        const isoDow = temporal.get(ChronoField.DAY_OF_WEEK);\n        const dow = MathUtil.floorMod(isoDow - sow, 7) + 1;\n        const year = temporal.get(ChronoField.YEAR);\n        const woy = this._localizedWeekOfYear(temporal, dow);\n        if (woy === 0) {\n            return year - 1;\n        } else if (woy < 53) {\n            return year;\n        }\n        const offset = this._startOfWeekOffset(temporal.get(ChronoField.DAY_OF_YEAR), dow);\n        const yearLen = Year.isLeap(year) ? 366 : 365;\n        const weekIndexOfFirstWeekNextYear = ComputedDayOfField._computeWeek(offset, yearLen + this._weekDef.minimalDaysInFirstWeek());\n        if (woy >= weekIndexOfFirstWeekNextYear) {\n            return year + 1;\n        }\n        return year;\n    }\n\n    /**\n     * Returns an offset to align week start with a day of month or day of year.\n     *\n     * @param day the day; 1 through infinity\n     * @param dow the day of the week of that day; 1 through 7\n     * @return an offset in days to align a day with the start of the first 'full' week\n     */\n    _startOfWeekOffset(day, dow) {\n        // offset of first day corresponding to the day of week in first 7 days (zero origin)\n        const weekStart = MathUtil.floorMod(day - dow, 7);\n        let offset = -weekStart;\n        if (weekStart + 1 > this._weekDef.minimalDaysInFirstWeek()) {\n            // The previous week has the minimum days in the current month to be a 'week'\n            offset = 7 - weekStart;\n        }\n        return offset;\n    }\n\n    /**\n     * Returns the week number computed from the reference day and reference dayOfWeek.\n     *\n     * @param offset the offset to align a date with the start of week\n     *     from {@link #startOfWeekOffset}.\n     * @param day  the day for which to compute the week number\n     * @return the week number where zero is used for a partial week and 1 for the first full week\n     */\n    static _computeWeek(offset, day) {\n        return MathUtil.intDiv((7 + offset + (day - 1)), 7);\n    }\n\n    adjustInto(temporal, newValue) {\n        // Check the new value and get the old value of the field\n        const newVal = this._range.checkValidIntValue(newValue, this);\n        const currentVal = temporal.get(this);\n        if (newVal === currentVal) {\n            return temporal;\n        }\n        if (this._rangeUnit === ChronoUnit.FOREVER) {\n            // adjust in whole weeks so dow never changes\n            const baseWowby = temporal.get(this._weekDef.weekOfWeekBasedYear());\n            const diffWeeks = MathUtil.roundDown((newValue - currentVal) * 52.1775);\n            let result = temporal.plus(diffWeeks, ChronoUnit.WEEKS);\n            if (result.get(this) > newVal) {\n                // ended up in later week-based-year\n                // move to last week of previous year\n                const newWowby = result.get(this._weekDef.weekOfWeekBasedYear());\n                result = result.minus(newWowby, ChronoUnit.WEEKS);\n            } else {\n                if (result.get(this) < newVal) {\n                    // ended up in earlier week-based-year\n                    result = result.plus(2, ChronoUnit.WEEKS);\n                }\n                // reset the week-of-week-based-year\n                const newWowby = result.get(this._weekDef.weekOfWeekBasedYear());\n                result = result.plus(baseWowby - newWowby, ChronoUnit.WEEKS);\n                if (result.get(this) > newVal) {\n                    result = result.minus(1, ChronoUnit.WEEKS);\n                }\n            }\n            return result;\n        }\n        // Compute the difference and add that using the base using of the field\n        const delta = newVal - currentVal;\n        return temporal.plus(delta, this._baseUnit);\n    }\n\n    resolve(fieldValues, partialTemporal, resolverStyle) {\n        const sow = this._weekDef.firstDayOfWeek().value();\n        if (this._rangeUnit === ChronoUnit.WEEKS) {  // day-of-week\n            const value = fieldValues.remove(this);\n            const localDow = this._range.checkValidIntValue(value, this);\n            const isoDow = MathUtil.floorMod((sow - 1) + (localDow - 1), 7) + 1;\n            fieldValues.put(ChronoField.DAY_OF_WEEK, isoDow);\n            return null;\n        }\n        if (fieldValues.containsKey(ChronoField.DAY_OF_WEEK) === false) {\n            return null;\n        }\n\n        // week-based-year\n        if (this._rangeUnit === ChronoUnit.FOREVER) {\n            if (fieldValues.containsKey(this._weekDef.weekOfWeekBasedYear()) === false) {\n                return null;\n            }\n            // const chrono = IsoChronology.INSTANCE; //TODO: Chronology.from(partialTemporal);  // defaults to ISO\n            const isoDow = ChronoField.DAY_OF_WEEK.checkValidIntValue(fieldValues.get(ChronoField.DAY_OF_WEEK));\n            const dow = MathUtil.floorMod(isoDow - sow, 7) + 1;\n            const wby = this.range().checkValidIntValue(fieldValues.get(this), this);\n            let date;\n            let days;\n            if (resolverStyle === ResolverStyle.LENIENT) {\n                date = LocalDate.of(wby, 1, this._weekDef.minimalDaysInFirstWeek()); //TODO: chrono.date(wby, 1, this._weekDef.minimalDaysInFirstWeek());\n                const wowby = fieldValues.get(this._weekDef.weekOfWeekBasedYear());\n                const dateDow = this._localizedDayOfWeek(date, sow);\n                const weeks = wowby - this._localizedWeekOfYear(date, dateDow);\n                days = weeks * 7 + (dow - dateDow);\n            } else {\n                date = LocalDate.of(wby, 1, this._weekDef.minimalDaysInFirstWeek()); //TODO: chrono.date(wby, 1, this._weekDef.minimalDaysInFirstWeek());\n                const wowby = this._weekDef.weekOfWeekBasedYear().range().checkValidIntValue(\n                    fieldValues.get(this._weekDef.weekOfWeekBasedYear()), this._weekDef.weekOfWeekBasedYear);\n                const dateDow = this._localizedDayOfWeek(date, sow);\n                const weeks = wowby - this._localizedWeekOfYear(date, dateDow);\n                days = weeks * 7 + (dow - dateDow);\n            }\n            date = date.plus(days, ChronoUnit.DAYS);\n            if (resolverStyle === ResolverStyle.STRICT) {\n                if (date.getLong(this) !== fieldValues.get(this)) {\n                    throw new DateTimeException('Strict mode rejected date parsed to a different year');\n                }\n            }\n            fieldValues.remove(this);\n            fieldValues.remove(this._weekDef.weekOfWeekBasedYear());\n            fieldValues.remove(ChronoField.DAY_OF_WEEK);\n            return date;\n        }\n\n        if (fieldValues.containsKey(ChronoField.YEAR) === false) {\n            return null;\n        }\n        const isoDow = ChronoField.DAY_OF_WEEK.checkValidIntValue(fieldValues.get(ChronoField.DAY_OF_WEEK));\n        const dow = MathUtil.floorMod(isoDow - sow, 7) + 1;\n        const year = ChronoField.YEAR.checkValidIntValue(fieldValues.get(ChronoField.YEAR));\n        // const chrono = IsoChronology.INSTANCE; //TODO: Chronology.from(partialTemporal);  // defaults to ISO\n        if (this._rangeUnit === ChronoUnit.MONTHS) {  // week-of-month\n            if (fieldValues.containsKey(ChronoField.MONTH_OF_YEAR) === false) {\n                return null;\n            }\n            const value = fieldValues.remove(this);\n            let date;\n            let days;\n            if (resolverStyle === ResolverStyle.LENIENT) {\n                const month = fieldValues.get(ChronoField.MONTH_OF_YEAR);\n                date = LocalDate.of(year, 1, 1); // TODO: chrono.date(year, 1, 1);\n                date = date.plus(month - 1, ChronoUnit.MONTHS);\n                const dateDow = this._localizedDayOfWeek(date, sow);\n                const weeks = value - this._localizedWeekOfMonth(date, dateDow);\n                days = weeks * 7 + (dow - dateDow);\n            } else {\n                const month = ChronoField.MONTH_OF_YEAR.checkValidIntValue(fieldValues.get(ChronoField.MONTH_OF_YEAR));\n                date = LocalDate.of(year, month, 8); // TODO: chrono.date(year, month, 8);\n                const dateDow = this._localizedDayOfWeek(date, sow);\n                const wom = this._range.checkValidIntValue(value, this);\n                const weeks = wom - this._localizedWeekOfMonth(date, dateDow);\n                days = weeks * 7 + (dow - dateDow);\n            }\n            date = date.plus(days, ChronoUnit.DAYS);\n            if (resolverStyle === ResolverStyle.STRICT) {\n                if (date.getLong(ChronoField.MONTH_OF_YEAR) !== fieldValues.get(ChronoField.MONTH_OF_YEAR)) {\n                    throw new DateTimeException('Strict mode rejected date parsed to a different month');\n                }\n            }\n            fieldValues.remove(this);\n            fieldValues.remove(ChronoField.YEAR);\n            fieldValues.remove(ChronoField.MONTH_OF_YEAR);\n            fieldValues.remove(ChronoField.DAY_OF_WEEK);\n            return date;\n        } else if (this._rangeUnit === ChronoUnit.YEARS) {  // week-of-year\n            const value = fieldValues.remove(this);\n            let date = LocalDate.of(year, 1, 1); // TODO: chrono.date(year, 1, 1);\n            let days;\n            if (resolverStyle === ResolverStyle.LENIENT) {\n                const dateDow = this._localizedDayOfWeek(date, sow);\n                const weeks = value - this._localizedWeekOfYear(date, dateDow);\n                days = weeks * 7 + (dow - dateDow);\n            } else {\n                const dateDow = this._localizedDayOfWeek(date, sow);\n                const woy = this._range.checkValidIntValue(value, this);\n                const weeks = woy - this._localizedWeekOfYear(date, dateDow);\n                days = weeks * 7 + (dow - dateDow);\n            }\n            date = date.plus(days, ChronoUnit.DAYS);\n            if (resolverStyle === ResolverStyle.STRICT) {\n                if (date.getLong(ChronoField.YEAR) !== fieldValues.get(ChronoField.YEAR)) {\n                    throw new DateTimeException('Strict mode rejected date parsed to a different year');\n                }\n            }\n            fieldValues.remove(this);\n            fieldValues.remove(ChronoField.YEAR);\n            fieldValues.remove(ChronoField.DAY_OF_WEEK);\n            return date;\n        } else {\n            throw new IllegalStateException('unreachable');\n        }\n    }\n\n    //-----------------------------------------------------------------------\n    name() {\n        return this._name;\n    }\n\n    baseUnit() {\n        return this._baseUnit;\n    }\n\n    rangeUnit() {\n        return this._rangeUnit;\n    }\n\n    range() {\n        return this._range;\n    }\n\n    //-----------------------------------------------------------------------\n    isDateBased() {\n        return true;\n    }\n\n    isTimeBased() {\n        return false;\n    }\n\n    isSupportedBy(temporal) {\n        if (temporal.isSupported(ChronoField.DAY_OF_WEEK)) {\n            if (this._rangeUnit === ChronoUnit.WEEKS) {\n                return true;\n            } else if (this._rangeUnit === ChronoUnit.MONTHS) {\n                return temporal.isSupported(ChronoField.DAY_OF_MONTH);\n            } else if (this._rangeUnit === ChronoUnit.YEARS) {\n                return temporal.isSupported(ChronoField.DAY_OF_YEAR);\n            } else if (this._rangeUnit === IsoFields.WEEK_BASED_YEARS) {\n                return temporal.isSupported(ChronoField.EPOCH_DAY);\n            } else if (this._rangeUnit === ChronoUnit.FOREVER) {\n                return temporal.isSupported(ChronoField.EPOCH_DAY);\n            }\n        }\n        return false;\n    }\n\n    rangeRefinedBy(temporal) {\n        if (this._rangeUnit === ChronoUnit.WEEKS) {\n            return this._range;\n        }\n\n        let field = null;\n        if (this._rangeUnit === ChronoUnit.MONTHS) {\n            field = ChronoField.DAY_OF_MONTH;\n        } else if (this._rangeUnit === ChronoUnit.YEARS) {\n            field = ChronoField.DAY_OF_YEAR;\n        } else if (this._rangeUnit === IsoFields.WEEK_BASED_YEARS) {\n            return this._rangeWOWBY(temporal);\n        } else if (this._rangeUnit === ChronoUnit.FOREVER) {\n            return temporal.range(ChronoField.YEAR);\n        } else {\n            throw new IllegalStateException('unreachable');\n        }\n\n        // Offset the ISO DOW by the start of this week\n        const sow = this._weekDef.firstDayOfWeek().value();\n        const isoDow = temporal.get(ChronoField.DAY_OF_WEEK);\n        const dow = MathUtil.floorMod(isoDow - sow, 7) + 1;\n\n        const offset = this._startOfWeekOffset(temporal.get(field), dow);\n        const fieldRange = temporal.range(field);\n        return ValueRange.of(ComputedDayOfField._computeWeek(offset, fieldRange.minimum()),\n            ComputedDayOfField._computeWeek(offset, fieldRange.maximum()));\n    }\n\n    _rangeWOWBY(temporal) {\n        const sow = this._weekDef.firstDayOfWeek().value();\n        const isoDow = temporal.get(ChronoField.DAY_OF_WEEK);\n        const dow = MathUtil.floorMod(isoDow - sow, 7) + 1;\n        const woy = this._localizedWeekOfYear(temporal, dow);\n        if (woy === 0) {\n            // TODO: we use IsoChronology for now\n            return this._rangeWOWBY(IsoChronology.INSTANCE.date(temporal).minus(2, ChronoUnit.WEEKS));\n            // return this._rangeWOWBY(Chronology.from(temporal).date(temporal).minus(2, ChronoUnit.WEEKS));\n        }\n        const offset = this._startOfWeekOffset(temporal.get(ChronoField.DAY_OF_YEAR), dow);\n        const year = temporal.get(ChronoField.YEAR);\n        const yearLen = Year.isLeap(year) ? 366 : 365;\n        const weekIndexOfFirstWeekNextYear = ComputedDayOfField._computeWeek(offset, yearLen + this._weekDef.minimalDaysInFirstWeek());\n        if (woy >= weekIndexOfFirstWeekNextYear) {\n            // TODO: we use IsoChronology for now\n            return this._rangeWOWBY(IsoChronology.INSTANCE.date(temporal).plus(2, ChronoUnit.WEEKS));\n            // return this._rangeWOWBY(Chronology.from(temporal).date(temporal).plus(2, ChronoUnit.WEEKS));\n        }\n        return ValueRange.of(1, weekIndexOfFirstWeekNextYear - 1);\n    }\n\n    displayName(locale) {\n        requireNonNull(locale, 'locale');\n        if (this._rangeUnit === ChronoUnit.YEARS) {  // week-of-year\n            return 'Week';\n        }\n        return this.toString();\n    }\n\n    //-----------------------------------------------------------------------\n    toString() {\n        return `${this._name}[${this._weekDef.toString()}]`;\n    }\n}\n\n/**\n * The cache of rules by firstDayOfWeek plus minimalDays.\n * Initialized first to be available for definition of ISO, etc.\n */\nconst WeekFieldsCache = new Map();\n\n\n/**\n * Localized definitions of the day-of-week, week-of-month and week-of-year fields.\n * <p>\n * A standard week is seven days long, but cultures have different definitions for some\n * other aspects of a week. This class represents the definition of the week, for the\n * purpose of providing {@link TemporalField} instances.\n * <p>\n * WeekFields provides three fields,\n * {@link #dayOfWeek()}, {@link #weekOfMonth()}, and {@link #weekOfYear()}\n * that provide access to the values from any {@link Temporal temporal object}.\n * <p>\n * The computations for day-of-week, week-of-month, and week-of-year are based\n * on the  {@link ChronoField#YEAR proleptic-year},\n * {@link ChronoField#MONTH_OF_YEAR month-of-year},\n * {@link ChronoField#DAY_OF_MONTH day-of-month}, and\n * {@link ChronoField#DAY_OF_WEEK ISO day-of-week} which are based on the\n * {@link ChronoField#EPOCH_DAY epoch-day} and the chronology.\n * The values may not be aligned with the {@link ChronoField#YEAR_OF_ERA year-of-Era}\n * depending on the Chronology.\n * <p>A week is defined by:\n * <ul>\n * <li>The first day-of-week.\n * For example, the ISO-8601 standard considers Monday to be the first day-of-week.\n * <li>The minimal number of days in the first week.\n * For example, the ISO-8601 standard counts the first week as needing at least 4 days.\n * </ul><p>\n * Together these two values allow a year or month to be divided into weeks.\n * <p>\n * <h3>Week of Month</h3>\n * One field is used: week-of-month.\n * The calculation ensures that weeks never overlap a month boundary.\n * The month is divided into periods where each period starts on the defined first day-of-week.\n * The earliest period is referred to as week 0 if it has less than the minimal number of days\n * and week 1 if it has at least the minimal number of days.\n * <p>\n * <table cellpadding=\"0\" cellspacing=\"3\" border=\"0\" style=\"text-align: left; width: 50%;\">\n * <caption>Examples of WeekFields</caption>\n * <tr><th>Date</th><td>Day-of-week</td>\n *  <td>First day: Monday<br>Minimal days: 4</td><td>First day: Monday<br>Minimal days: 5</td></tr>\n * <tr><th>2008-12-31</th><td>Wednesday</td>\n *  <td>Week 5 of December 2008</td><td>Week 5 of December 2008</td></tr>\n * <tr><th>2009-01-01</th><td>Thursday</td>\n *  <td>Week 1 of January 2009</td><td>Week 0 of January 2009</td></tr>\n * <tr><th>2009-01-04</th><td>Sunday</td>\n *  <td>Week 1 of January 2009</td><td>Week 0 of January 2009</td></tr>\n * <tr><th>2009-01-05</th><td>Monday</td>\n *  <td>Week 2 of January 2009</td><td>Week 1 of January 2009</td></tr>\n * </table>\n * <p>\n * <h3>Week of Year</h3>\n * One field is used: week-of-year.\n * The calculation ensures that weeks never overlap a year boundary.\n * The year is divided into periods where each period starts on the defined first day-of-week.\n * The earliest period is referred to as week 0 if it has less than the minimal number of days\n * and week 1 if it has at least the minimal number of days.\n * <p>\n * This class is immutable and thread-safe.\n */\nexport class WeekFields {\n    // implementation notes\n    // querying week-of-month or week-of-year should return the week value bound within the month/year\n    // however, setting the week value should be lenient (use plus/minus weeks)\n    // allow week-of-month outer range [0 to 5]\n    // allow week-of-year outer range [0 to 53]\n    // this is because callers shouldn't be expected to know the details of validity\n\n    /**\n     * function overloading for {@link WeekFields#of}\n     *\n     * if called with 1 arguments then {@link WeekFields.ofLocale} is executed.\n     *\n     * Otherwise {@link WeekFields.ofFirstDayOfWeekMinDays} is executed.\n     *\n     * @param {!DayOfWeek | Locale} firstDayOrLocale\n     * @param {Number} minDays\n     * @returns {WeekFields} this for chaining\n     */\n    static of(firstDayOrLocale, minDays) {\n        if (minDays === undefined) {\n            return WeekFields.ofLocale(firstDayOrLocale);\n        } else {\n            return WeekFields.ofFirstDayOfWeekMinDays(firstDayOrLocale, minDays);\n        }\n    }\n\n    /**\n     * Obtains an instance of {@code WeekFields} appropriate for a locale.\n     * <p>\n     * This will look up appropriate values from the provider of localization data.\n     *\n     * @param {!Locale} locale  the locale to use, not null\n     * @return the week-definition, not null\n     */\n    static ofLocale(locale) {\n        requireNonNull(locale, 'locale');\n\n        Cldr.load(cldrData('supplemental/weekData.json'));\n        const cldr = new Cldr(locale.localeString());\n        const worldRegion = '001';\n        const weekData = cldr.get('supplemental/weekData');\n        let dow = _weekDayMap[weekData.firstDay[locale.country()]];\n        if (!dow) {\n            dow = _weekDayMap[weekData.firstDay[worldRegion]];\n        }\n        let minDays = weekData.minDays[locale.country()];\n        if (!minDays) {\n            minDays = weekData.minDays[worldRegion];\n        }\n        return WeekFields.ofFirstDayOfWeekMinDays(dow, minDays);\n    }\n\n    /**\n     * Obtains an instance of {@code WeekFields} from the first day-of-week and minimal days.\n     * <p>\n     * The first day-of-week defines the ISO {@code DayOfWeek} that is day 1 of the week.\n     * The minimal number of days in the first week defines how many days must be present\n     * in a month or year, starting from the first day-of-week, before the week is counted\n     * as the first week. A value of 1 will count the first day of the month or year as part\n     * of the first week, whereas a value of 7 will require the whole seven days to be in\n     * the new month or year.\n     * <p>\n     * WeekFields instances are singletons; for each unique combination\n     * of {@code firstDayOfWeek} and {@code minimalDaysInFirstWeek} the\n     * the same instance will be returned.\n     *\n     * @param {!DayOfWeek} firstDayOfWeek  the first day of the week, not null\n     * @param {!Number} minimalDaysInFirstWeek  the minimal number of days in the first week, from\n     *     1 to 7\n     * @return {WeekFields} the week-definition, not null\n     * @throws IllegalArgumentException if the minimal days value is less than one\n     *      or greater than 7\n     */\n    static ofFirstDayOfWeekMinDays(firstDayOfWeek, minimalDaysInFirstWeek) {\n        requireNonNull(firstDayOfWeek, 'firstDayOfWeek');\n        requireInstance(firstDayOfWeek, DayOfWeek, 'firstDayOfWeek');\n        requireNonNull(minimalDaysInFirstWeek, 'minimalDaysInFirstWeek');\n        const key = firstDayOfWeek.toString() + minimalDaysInFirstWeek;\n        let rules = WeekFieldsCache.get(key);\n        if (rules == null) {\n            rules = new WeekFields(firstDayOfWeek, minimalDaysInFirstWeek);\n            WeekFieldsCache.set(key, rules);\n            rules = WeekFieldsCache.get(key);\n        }\n        return rules;\n    }\n\n    //-----------------------------------------------------------------------\n    /**\n     * Creates an instance of the definition.\n     *\n     * @param {!DayOfWeek} firstDayOfWeek  the first day of the week, not null\n     * @param {!Number} minimalDaysInFirstWeek  the minimal number of days in the first week, from\n     *     1 to 7\n     * @throws IllegalArgumentException if the minimal days value is invalid\n     *\n     * @private\n     */\n    constructor(firstDayOfWeek, minimalDaysInFirstWeek) {\n        requireNonNull(firstDayOfWeek, 'firstDayOfWeek');\n        requireInstance(firstDayOfWeek, DayOfWeek, 'firstDayOfWeek');\n        requireNonNull(minimalDaysInFirstWeek, 'minimalDaysInFirstWeek');\n        if (minimalDaysInFirstWeek < 1 || minimalDaysInFirstWeek > 7) {\n            throw new IllegalArgumentException('Minimal number of days is invalid');\n        }\n        this._firstDayOfWeek = firstDayOfWeek;\n        this._minimalDays = minimalDaysInFirstWeek;\n        this._dayOfWeek = ComputedDayOfField.ofDayOfWeekField(this);\n        this._weekOfMonth = ComputedDayOfField.ofWeekOfMonthField(this);\n        this._weekOfYear = ComputedDayOfField.ofWeekOfYearField(this);\n        this._weekOfWeekBasedYear = ComputedDayOfField.ofWeekOfWeekBasedYearField(this);\n        this._weekBasedYear = ComputedDayOfField.ofWeekBasedYearField(this);\n        Cldr.load(cldrData('supplemental/likelySubtags.json'));\n    }\n\n    //-----------------------------------------------------------------------\n    /**\n     * Gets the first day-of-week.\n     * <p>\n     * The first day-of-week varies by culture.\n     * For example, the US uses Sunday, while France and the ISO-8601 standard use Monday.\n     * This method returns the first day using the standard {@code DayOfWeek} enum.\n     *\n     * @return {DayOfWeek} the first day-of-week, not null\n     */\n    firstDayOfWeek() {\n        return this._firstDayOfWeek;\n    }\n\n    /**\n     * Gets the minimal number of days in the first week.\n     * <p>\n     * The number of days considered to define the first week of a month or year\n     * varies by culture.\n     * For example, the ISO-8601 requires 4 days (more than half a week) to\n     * be present before counting the first week.\n     *\n     * @return {Number} the minimal number of days in the first week of a month or year, from 1 to 7\n     */\n    minimalDaysInFirstWeek() {\n        return this._minimalDays;\n    }\n\n    //-----------------------------------------------------------------------\n    /**\n     * Returns a field to access the day of week based on this {@code WeekFields}.\n     * <p>\n     * This is similar to {@link ChronoField#DAY_OF_WEEK} but uses values for\n     * the day-of-week based on this {@code WeekFields}.\n     * The days are numbered from 1 to 7 where the\n     * {@link #getFirstDayOfWeek() first day-of-week} is assigned the value 1.\n     * <p>\n     * For example, if the first day-of-week is Sunday, then that will have the\n     * value 1, with other days ranging from Monday as 2 to Saturday as 7.\n     * <p>\n     * In the resolving phase of parsing, a localized day-of-week will be converted\n     * to a standardized {@code ChronoField} day-of-week.\n     * The day-of-week must be in the valid range 1 to 7.\n     * Other fields in this class build dates using the standardized day-of-week.\n     *\n     * @return {TemporalField} a field providing access to the day-of-week with localized\n     *     numbering, not null\n     */\n    dayOfWeek() {\n        return this._dayOfWeek;\n    }\n\n    /**\n     * Returns a field to access the week of month based on this {@code WeekFields}.\n     * <p>\n     * This represents the concept of the count of weeks within the month where weeks\n     * start on a fixed day-of-week, such as Monday.\n     * This field is typically used with {@link WeekFields#dayOfWeek()}.\n     * <p>\n     * Week one (1) is the week starting on the {@link WeekFields#firstDayOfWeek}\n     * where there are at least {@link WeekFields#getMinimalDaysInFirstWeek()} days in the month.\n     * Thus, week one may start up to {@code minDays} days before the start of the month.\n     * If the first week starts after the start of the month then the period before is week zero\n     * (0).\n     * <p>\n     * For example:<br>\n     * - if the 1st day of the month is a Monday, week one starts on the 1st and there is no week\n     * zero<br>\n     * - if the 2nd day of the month is a Monday, week one starts on the 2nd and the 1st is in week\n     * zero<br>\n     * - if the 4th day of the month is a Monday, week one starts on the 4th and the 1st to 3rd is\n     * in week zero<br>\n     * - if the 5th day of the month is a Monday, week two starts on the 5th and the 1st to 4th is\n     * in week one<br>\n     * <p>\n     * This field can be used with any calendar system.\n     * <p>\n     * In the resolving phase of parsing, a date can be created from a year,\n     * week-of-month, month-of-year and day-of-week.\n     * <p>\n     * In {@linkplain ResolverStyle#STRICT strict mode}, all four fields are\n     * validated against their range of valid values. The week-of-month field\n     * is validated to ensure that the resulting month is the month requested.\n     * <p>\n     * In {@linkplain ResolverStyle#SMART smart mode}, all four fields are\n     * validated against their range of valid values. The week-of-month field\n     * is validated from 0 to 6, meaning that the resulting date can be in a\n     * different month to that specified.\n     * <p>\n     * In {@linkplain ResolverStyle#LENIENT lenient mode}, the year and day-of-week\n     * are validated against the range of valid values. The resulting date is calculated\n     * equivalent to the following four stage approach.\n     * First, create a date on the first day of the first week of January in the requested year.\n     * Then take the month-of-year, subtract one, and add the amount in months to the date.\n     * Then take the week-of-month, subtract one, and add the amount in weeks to the date.\n     * Finally, adjust to the correct day-of-week within the localized week.\n     *\n     * @return {TemporalField} a field providing access to the week-of-month, not null\n     */\n    weekOfMonth() {\n        return this._weekOfMonth;\n    }\n\n    /**\n     * Returns a field to access the week of year based on this {@code WeekFields}.\n     * <p>\n     * This represents the concept of the count of weeks within the year where weeks\n     * start on a fixed day-of-week, such as Monday.\n     * This field is typically used with {@link WeekFields#dayOfWeek()}.\n     * <p>\n     * Week one(1) is the week starting on the {@link WeekFields#firstDayOfWeek}\n     * where there are at least {@link WeekFields#getMinimalDaysInFirstWeek()} days in the year.\n     * Thus, week one may start up to {@code minDays} days before the start of the year.\n     * If the first week starts after the start of the year then the period before is week zero\n     * (0).\n     * <p>\n     * For example:<br>\n     * - if the 1st day of the year is a Monday, week one starts on the 1st and there is no week\n     * zero<br>\n     * - if the 2nd day of the year is a Monday, week one starts on the 2nd and the 1st is in week\n     * zero<br>\n     * - if the 4th day of the year is a Monday, week one starts on the 4th and the 1st to 3rd is\n     * in week zero<br>\n     * - if the 5th day of the year is a Monday, week two starts on the 5th and the 1st to 4th is\n     * in week one<br>\n     * <p>\n     * This field can be used with any calendar system.\n     * <p>\n     * In the resolving phase of parsing, a date can be created from a year,\n     * week-of-year and day-of-week.\n     * <p>\n     * In {@linkplain ResolverStyle#STRICT strict mode}, all three fields are\n     * validated against their range of valid values. The week-of-year field\n     * is validated to ensure that the resulting year is the year requested.\n     * <p>\n     * In {@linkplain ResolverStyle#SMART smart mode}, all three fields are\n     * validated against their range of valid values. The week-of-year field\n     * is validated from 0 to 54, meaning that the resulting date can be in a\n     * different year to that specified.\n     * <p>\n     * In {@linkplain ResolverStyle#LENIENT lenient mode}, the year and day-of-week\n     * are validated against the range of valid values. The resulting date is calculated\n     * equivalent to the following three stage approach.\n     * First, create a date on the first day of the first week in the requested year.\n     * Then take the week-of-year, subtract one, and add the amount in weeks to the date.\n     * Finally, adjust to the correct day-of-week within the localized week.\n     *\n     * @return {TemporalField} a field providing access to the week-of-year, not null\n     */\n    weekOfYear() {\n        return this._weekOfYear;\n    }\n\n    /**\n     * Returns a field to access the week of a week-based-year based on this {@code WeekFields}.\n     * <p>\n     * This represents the concept of the count of weeks within the year where weeks\n     * start on a fixed day-of-week, such as Monday and each week belongs to exactly one year.\n     * This field is typically used with {@link WeekFields#dayOfWeek()} and\n     * {@link WeekFields#weekBasedYear()}.\n     * <p>\n     * Week one(1) is the week starting on the {@link WeekFields#firstDayOfWeek}\n     * where there are at least {@link WeekFields#getMinimalDaysInFirstWeek()} days in the year.\n     * If the first week starts after the start of the year then the period before\n     * is in the last week of the previous year.\n     * <p>\n     * For example:<br>\n     * - if the 1st day of the year is a Monday, week one starts on the 1st<br>\n     * - if the 2nd day of the year is a Monday, week one starts on the 2nd and\n     *   the 1st is in the last week of the previous year<br>\n     * - if the 4th day of the year is a Monday, week one starts on the 4th and\n     *   the 1st to 3rd is in the last week of the previous year<br>\n     * - if the 5th day of the year is a Monday, week two starts on the 5th and\n     *   the 1st to 4th is in week one<br>\n     * <p>\n     * This field can be used with any calendar system.\n     * <p>\n     * In the resolving phase of parsing, a date can be created from a week-based-year,\n     * week-of-year and day-of-week.\n     * <p>\n     * In {@linkplain ResolverStyle#STRICT strict mode}, all three fields are\n     * validated against their range of valid values. The week-of-year field\n     * is validated to ensure that the resulting week-based-year is the\n     * week-based-year requested.\n     * <p>\n     * In {@linkplain ResolverStyle#SMART smart mode}, all three fields are\n     * validated against their range of valid values. The week-of-week-based-year field\n     * is validated from 1 to 53, meaning that the resulting date can be in the\n     * following week-based-year to that specified.\n     * <p>\n     * In {@linkplain ResolverStyle#LENIENT lenient mode}, the year and day-of-week\n     * are validated against the range of valid values. The resulting date is calculated\n     * equivalent to the following three stage approach.\n     * First, create a date on the first day of the first week in the requested week-based-year.\n     * Then take the week-of-week-based-year, subtract one, and add the amount in weeks to the date.\n     * Finally, adjust to the correct day-of-week within the localized week.\n     *\n     * @return {TemporalField} a field providing access to the week-of-week-based-year, not null\n     */\n    weekOfWeekBasedYear() {\n        return this._weekOfWeekBasedYear;\n    }\n\n    /**\n     * Returns a field to access the year of a week-based-year based on this {@code WeekFields}.\n     * <p>\n     * This represents the concept of the year where weeks start on a fixed day-of-week,\n     * such as Monday and each week belongs to exactly one year.\n     * This field is typically used with {@link WeekFields#dayOfWeek()} and\n     * {@link WeekFields#weekOfWeekBasedYear()}.\n     * <p>\n     * Week one(1) is the week starting on the {@link WeekFields#firstDayOfWeek}\n     * where there are at least {@link WeekFields#getMinimalDaysInFirstWeek()} days in the year.\n     * Thus, week one may start before the start of the year.\n     * If the first week starts after the start of the year then the period before\n     * is in the last week of the previous year.\n     * <p>\n     * This field can be used with any calendar system.\n     * <p>\n     * In the resolving phase of parsing, a date can be created from a week-based-year,\n     * week-of-year and day-of-week.\n     * <p>\n     * In {@linkplain ResolverStyle#STRICT strict mode}, all three fields are\n     * validated against their range of valid values. The week-of-year field\n     * is validated to ensure that the resulting week-based-year is the\n     * week-based-year requested.\n     * <p>\n     * In {@linkplain ResolverStyle#SMART smart mode}, all three fields are\n     * validated against their range of valid values. The week-of-week-based-year field\n     * is validated from 1 to 53, meaning that the resulting date can be in the\n     * following week-based-year to that specified.\n     * <p>\n     * In {@linkplain ResolverStyle#LENIENT lenient mode}, the year and day-of-week\n     * are validated against the range of valid values. The resulting date is calculated\n     * equivalent to the following three stage approach.\n     * First, create a date on the first day of the first week in the requested week-based-year.\n     * Then take the week-of-week-based-year, subtract one, and add the amount in weeks to the date.\n     * Finally, adjust to the correct day-of-week within the localized week.\n     *\n     * @return {TemporalField} a field providing access to the week-based-year, not null\n     */\n    weekBasedYear() {\n        return this._weekBasedYear;\n    }\n\n    //-----------------------------------------------------------------------\n    /**\n     * Checks if this {@code WeekFields} is equal to the specified other.\n     * <p>\n     * The comparison is based on the entire state of the rules, which is\n     * the first day-of-week and minimal days.\n     *\n     * @param {*} other  the other rules to compare to, null returns false\n     * @return true if this is equal to the specified rules\n     */\n    equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (other instanceof WeekFields) {\n            return this.hashCode() === other.hashCode();\n        }\n        return false;\n    }\n\n    /**\n     * A hash code for this {@code WeekFields}.\n     *\n     * @return a suitable hash code\n     */\n    hashCode() {\n        return this._firstDayOfWeek.ordinal() * 7 + this._minimalDays;\n    }\n\n    //-----------------------------------------------------------------------\n    /**\n     * A string representation of this {@code WeekFields} instance.\n     *\n     * @return the string representation, not null\n     */\n    toString() {\n        return `WeekFields[${this._firstDayOfWeek},${this._minimalDays}]`;\n    }\n\n}\n\nexport function _init() {\n    /**\n     * The ISO-8601 definition, where a week starts on Monday and the first week\n     * has a minimum of 4 days.\n     * <p>\n     * The ISO-8601 standard defines a calendar system based on weeks.\n     * It uses the week-based-year and week-of-week-based-year concepts to split\n     * up the passage of days instead of the standard year/month/day.\n     * <p>\n     * Note that the first week may start in the previous calendar year.\n     * Note also that the first few days of a calendar year may be in the\n     * week-based-year corresponding to the previous calendar year.\n     */\n    WeekFields.ISO = WeekFields.of(DayOfWeek.MONDAY, 4);\n\n    /**\n     * The common definition of a week that starts on Sunday.\n     * <p>\n     * Defined as starting on Sunday and with a minimum of 1 day in the month.\n     * This week definition is in use in the US and other European countries.\n     *\n     */\n    WeekFields.SUNDAY_START = WeekFields.of(DayOfWeek.SUNDAY, 1);\n\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__js_joda_core__;","module.exports = __WEBPACK_EXTERNAL_MODULE_cldr_data__;","module.exports = __WEBPACK_EXTERNAL_MODULE_cldrjs__;"],"sourceRoot":""}